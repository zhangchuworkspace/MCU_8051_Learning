C51 COMPILER V9.60.7.0   KEY                                                               05/14/2024 20:34:47 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE KEY
OBJECT MODULE PLACED IN .\Objects\Key.obj
COMPILER INVOKED BY: E:\Keil_v5\C51\BIN\C51.EXE Key.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\Key.l
                    -st) TABS(2) OBJECT(.\Objects\Key.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          
   4          unsigned char Key_KeyNumber;
   5          
   6          unsigned char Key(void)
   7          {
   8   1        unsigned char Temp=Key_KeyNumber;
   9   1        Key_KeyNumber=0;
  10   1        return Temp;
  11   1      }
  12          
  13          unsigned char Key_GetState()
  14          {
  15   1        unsigned char KeyNumber=0;
  16   1        
  17   1        if(P3_1==0){KeyNumber=1;}
  18   1        if(P3_0==0){KeyNumber=2;}
  19   1        if(P3_2==0){KeyNumber=3;}
  20   1        if(P3_3==0){KeyNumber=4;}
  21   1        
  22   1        return KeyNumber; //è¿”å›æŒ‰é”®å€¼
  23   1      }
  24          
  25          void Key_Loop(void)
  26          {
  27   1        static unsigned char NowState,LastState;
  28   1        LastState=NowState; //ç°åœ¨çŠ¶æ€èµ‹ä¸ºä¸Šä¸€ä¸ªçŠ¶æ€
  29   1        NowState=Key_GetState();  //å°†æŒ‰é”®çŠ¶æ€èµ‹ä¸ºç°åœ¨çŠ¶æ€
  30   1        if(LastState==1 &&  NowState==0)  //ä¸Šä¸ªçŠ¶æ€ä¸º1,è¯´æ˜æŒ‰é”®1æŒ‰ä¸‹ï¼Œç°åœ¨çŠ¶æ€ä¸º0è¯´æ˜æŒ‰é”®æ¾æ
             -‰‹
  31   1          {
  32   2            Key_KeyNumber=1;
  33   2          }
  34   1        if(LastState==2 &&  NowState==0)
  35   1          {
  36   2            Key_KeyNumber=2;
  37   2          }
  38   1        if(LastState==3 &&  NowState==0)
  39   1          {
  40   2            Key_KeyNumber=3;
  41   2          }
  42   1        if(LastState==4 &&  NowState==0)
  43   1          {
  44   2            Key_KeyNumber=4;
  45   2          }
  46   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     85    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.60.7.0   KEY                                                               05/14/2024 20:34:47 PAGE 2   

   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
